LOGOS LRB ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Å–µ–Ω—Ç—è–±—Ä—å 2025, –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ)

üìÇ –†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π /root/logos_lrb

/root/logos_lrb
‚îú‚îÄ Cargo.toml / README.md
‚îú‚îÄ lrb_core/                  # Rust-—è–¥—Ä–æ L1
‚îÇ  ‚îî‚îÄ src/{ledger.rs, rcp_engine.rs, phase_integrity.rs,
‚îÇ          dynamic_balance.rs, spam_guard.rs, resonance.rs,
‚îÇ          phase_consensus.rs, phase_filters.rs, quorum.rs, types.rs,‚Ä¶}
‚îÇ
‚îú‚îÄ node/                      # –£–∑–µ–ª (Axum REST + gossip + –º–µ—Ç—Ä–∏–∫–∏)
‚îÇ  ‚îú‚îÄ Cargo.toml
‚îÇ  ‚îú‚îÄ openapi/openapi.json    # OpenAPI –∫–æ–Ω—Ç—Ä–∞–∫—Ç (–≤—à–∏—Ç—ã–π /openapi.json)
‚îÇ  ‚îî‚îÄ src/{main.rs, api.rs, bridge.rs, admin.rs,
‚îÇ          gossip.rs, state.rs, peers.rs, fork.rs,
‚îÇ          guard.rs, metrics.rs, version.rs, auth.rs,
‚îÇ          archive/, openapi.rs,‚Ä¶}
‚îÇ
‚îú‚îÄ modules/                   # –°–µ—Ä–≤–∏—Å–Ω—ã–µ/—Å–µ—Ç–µ–≤—ã–µ –º–æ–¥—É–ª–∏
‚îÇ  ‚îî‚îÄ uplink_*, external_phase_*, parser/tutor/env_impact, ‚Ä¶
‚îÇ
‚îú‚îÄ www/
‚îÇ  ‚îú‚îÄ index.html              # Landing page (Wallet, APK, –∫–æ–Ω—Ü–µ–ø—Ü–∏—è LOGOS)
‚îÇ  ‚îú‚îÄ wallet/                 # Web Wallet (IndexedDB+WebCrypto, strict CSP + SRI)
‚îÇ  ‚îî‚îÄ explorer/               # Explorer (strict CSP + SRI, inline —É–¥–∞–ª—ë–Ω)
‚îÇ
‚îú‚îÄ core/                      # –∞–Ω–∞–ª–∏—Ç–∏–∫–∞/—Å–∏–º—É–ª—è—Ü–∏–∏ (py)
‚îú‚îÄ wallet-proxy/              # –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã (py)
‚îú‚îÄ tools/                     # bench v4, k6, vegeta, SDK (TS, Go, Rust)
‚îú‚îÄ scripts/                   # bootstrap_node.sh, healthcheck.sh, ‚Ä¶
‚îî‚îÄ configs/                   # env-—à–∞–±–ª–æ–Ω—ã, genesis.yaml, logos_config.yaml


---

üõ†Ô∏è –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–ø—Ä–æ–¥-—É—Ä–æ–≤–µ–Ω—å)

–ë–∞–∑–∞/–∫–ª—é—á–∏
/var/lib/logos/data.sled ‚Äî sled-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –±–ª–æ–∫–æ–≤ –∏ tx
/var/lib/logos/node_key ‚Äî seed –∫–ª—é—á –Ω–æ–¥—ã (32 –±–∞–π—Ç–∞)

systemd
logos-node.service + drop-ins:
  data.conf, zz-keys.conf, ratelimit.conf, runas.conf, security.conf, override.conf
sandbox: User=logos, ProtectSystem=strict, NoNewPrivileges=yes

Nginx
—Ä–µ–¥–∏—Ä–µ–∫—Ç 80‚Üí443
HTTPS + TLS (certbot)
—Å—Ç—Ä–æ–≥–∞—è CSP (–±–µ–∑ inline/eval, –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π) + Subresource Integrity (SRI)
–ø—Ä–æ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ /api/, /wallet/, /explorer/, /openapi.json
CORS: origin = —Å–≤–æ–π –¥–æ–º–µ–Ω
–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: no-store

TLS
certbot: /etc/letsencrypt/live/45-159-248-232.sslip.io/{fullchain.pem,privkey.pem}

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
Prometheus + NodeExporter
Alertmanager ‚Üí Telegram (node down, HeightStuck, submit latency/429)
Grafana: –¥–∞—à–±–æ—Ä–¥—ã (http-–º–µ—Ç—Ä–∏–∫–∏, /submit_tx, –∞—Ä—Ö–∏–≤, TLS/latency)
–ø—Ä–∞–≤–∏–ª–∞ Prometheus: /etc/prometheus/rules/{lrb_core.yml,lrb_submit.yml}
–∞–ª–µ—Ä—Ç—ã: up/down, 429 spike, latency p95/p99, TLS expiry


---

‚öôÔ∏è –ß—Ç–æ —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–Ø–¥—Ä–æ
‚Ä¢ ledger (sled), mempool, spam_guard, dynamic_balance
‚Ä¢ Œ£(t), —Ñ–∞–∑–æ–≤—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
‚Ä¢ slot-–ø—Ä–æ–¥—é—Å–µ—Ä
‚Ä¢ —Ñ–∏–Ω–∞–ª–∏–∑–∞—Ü–∏—è (quorum=1)

Crypto
‚Ä¢ AEAD XChaCha20-Poly1305 (—É–Ω–∏–∫–∞–ª—å–Ω—ã–µ nonce, OsRng)
‚Ä¢ Ed25519 –ø–æ–¥–ø–∏—Å–∞–Ω–∏–µ (WebCrypto –≤ Wallet)

REST API
‚Ä¢ /healthz, /head, /balance/:rid, /submit_tx
‚Ä¢ /bridge/{deposit,redeem,verify}
‚Ä¢ /economy, /history/:rid
‚Ä¢ /archive/history/:rid, /archive/tx/:txid  (backend: SQLite / Postgres)
‚Ä¢ /metrics, /version, /openapi.json

Admin API (JWT/Key)
‚Ä¢ /admin/{set_balance,set_nonce,bump_nonce,mint,burn}
‚Ä¢ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è: X-Admin-JWT (HS256, LRB_ADMIN_JWT_SECRET), legacy X-Admin-Key

Guard
‚Ä¢ –ª–∏–º–∏—Ç–µ—Ä (token-bucket)
‚Ä¢ ACL –¥–ª—è /admin/*, bypass –ø–æ CIDR
‚Ä¢ forbid_default: –ø–∞–¥–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç–∞ –ø—Ä–∏ CHANGE_ME/DEFAULT

Bridge
‚Ä¢ rToken-–º–æ—Å—Ç (idempotent)
‚Ä¢ op_id –ø–æ –≤—Ö–æ–¥–Ω—ã–º –ø–æ–ª—è–º
‚Ä¢ deposit/redeem/verify

–≠–∫–æ–Ω–æ–º–∏–∫–∞
‚Ä¢ hard-cap 81M LGN
‚Ä¢ supply = minted ‚àí burned
‚Ä¢ –¥–µ—Ñ–ª—è—Ü–∏—è (burn –∫–æ–º–∏—Å—Å–∏–π)

Explorer
‚Ä¢ strict CSP + SRI
‚Ä¢ –ø–æ–∏—Å–∫ –ø–æ RID/–±–ª–æ–∫—É/from:nonce
‚Ä¢ –∏—Å—Ç–æ—Ä–∏—è, –ø–æ—Å–ª–µ–¥–Ω–∏–µ –±–ª–æ–∫–∏, –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

Wallet (Web)
‚Ä¢ RID+–ø–∞—Ä–æ–ª—å; IndexedDB (AES-GCM+PBKDF2)
‚Ä¢ –ø–æ–¥–ø–∏—Å—å Ed25519 (WebCrypto), batch-tx
‚Ä¢ UI —Ç—ë–º–Ω–∞—è —Ç–µ–º–∞, strict CSP + SRI
‚Ä¢ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ: —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç, passkey (–ø–ª–∞–Ω)

–°–∞–π—Ç-–≤–∏–∑–∏—Ç–∫–∞ LOGOS (/www/index.html)
‚Ä¢ –ö–Ω–æ–ø–∫–∞ Open Web Wallet
‚Ä¢ –ö–Ω–æ–ø–∫–∞ ¬´–°–∫–∞—á–∞—Ç—å APK (Demo)¬ª
‚Ä¢ –ë–ª–æ–∫–∏: –ö–æ–Ω—Ü–µ–ø—Ü–∏—è (–∞–Ω–æ–Ω–∏–º–Ω–æ—Å—Ç—å/—Å–∫–æ—Ä–æ—Å—Ç—å/—Ç–æ–∫–µ–Ω–æ–º–∏–∫–∞), –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, Tokenomics (pie), Roadmap (timeline), –ö–æ–Ω—Ç–∞–∫—Ç—ã (email/Telegram/GitHub/whitepaper)

–ò–Ω—Ñ—Ä–∞
‚Ä¢ systemd sandbox, nginx HTTPS+rate-limit, certbot, healthcheck.timer

–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚Ä¢ Prometheus-–º–µ—Ç—Ä–∏–∫–∏ (per-route, latency histogram, RPS/errors)
‚Ä¢ Grafana –¥–∞—à–±–æ—Ä–¥—ã (–≤ —Ç.—á. ‚ÄúLOGOS LRB ‚Äî Submit TX‚Äù)
‚Ä¢ Alertmanager‚ÜíTelegram (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç)

–ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã
‚Ä¢ k6 –∏ vegeta –ø—Ä–æ–≥–Ω–∞–Ω—ã
‚Ä¢ —Å—Ç–∞–±–∏–ª—å–Ω–æ ~1000 tx/s –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç
‚Ä¢ latency p95 < 2 ms, p99 < 5 ms
‚Ä¢ 0% –æ—à–∏–±–æ–∫ (—É—Å–ø–µ—Ö 100%)


---

‚ö†Ô∏è –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏/—É—è–∑–≤–∏–º–æ—Å—Ç–∏
‚Ä¢ Dev-—Å–µ–∫—Ä–µ—Ç—ã (CHANGE_ME) ‚Üí –±–ª–æ–∫–∏—Ä—É—é—Ç—Å—è ‚úÖ
‚Ä¢ CSP unsafe-inline ‚Üí –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ, —Ç–µ–ø–µ—Ä—å strict CSP + SRI ‚úÖ
‚Ä¢ Unsafe –≤ Rust (external_phase_link.rs) ‚Üí –ø–µ—Ä–µ–ø–∏—Å–∞–Ω –±–µ–∑–æ–ø–∞—Å–Ω–æ ‚úÖ
‚Ä¢ genesis.yaml / logos_config.yaml ‚Äî –ø–æ–∫–∞ –ø—É—Å—Ç—ã–µ ‚ö†Ô∏è


---

‚ùå –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –¥–æ—Ä–∞–±–æ—Ç–∫–∏
1. –ö–≤–æ—Ä—É–º >1 –∏ fork-choice
2. –ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä/–∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –Ω–∞ Postgres (–æ–±–∫–∞—Ç–∫–∞ –Ω–∞ –ø—Ä–æ–¥–µ)
3. Unit/chaos-—Ç–µ—Å—Ç—ã —è–¥—Ä–∞ –∏ —Ñ–∞–∑
4. –ú–æ–±–∏–ª—å–Ω—ã–π –∫–æ—à–µ–ª—ë–∫ (Flutter)
5. Wallet hardening: WebCrypto-only, —ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç, passkey
6. OpenAPI/SDK –∞–≤—Ç–æ–≥–µ–Ω (Go/Rust) ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
7. Grafana: –¥–∞—à–±–æ—Ä–¥—ã –ø–æ —Ñ–∞–∑–∞–º/quorum/p95/p99 latency, TLS expiry


---

üìå –ò—Ç–æ–≥–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
LOGOS LRB ‚Äî —Ä–∞–±–æ—á–∏–π L1 (MVP++), —Ä–µ–∑–æ–Ω–∞–Ω—Å–Ω–æ–µ —è–¥—Ä–æ, –º–æ—Å—Ç, HTTPS, —Å—Ç—Ä–æ–≥–∞—è CSP+SRI, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥, Web Wallet, Explorer –∏ —Å–∞–π—Ç-–≤–∏–∑–∏—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞.
–°–µ–π—á–∞—Å: –±–ª–æ–∫–∏ –∏–¥—É—Ç, —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –ø—Ä–æ—Ö–æ–¥—è—Ç, –∏—Å—Ç–æ—Ä–∏—è –ø–æ RID —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞—Ä—Ö–∏–≤ (SQLite/PG) –∞–∫—Ç–∏–≤–µ–Ω, –ª–∏–º–∏—Ç–µ—Ä/ACL –≤–∫–ª—é—á–µ–Ω—ã, –º–µ—Ç—Ä–∏–∫–∏ –∏ –¥–∞—à–±–æ—Ä–¥—ã Prometheus/Grafana –¥–æ—Å—Ç—É–ø–Ω—ã, Telegram-–æ–ø–æ–≤–µ—â–µ–Ω–∏—è —Ä–∞–±–æ—Ç–∞—é—Ç, —Å—Ç—Ä–µ—Å—Å-—Ç–µ—Å—Ç—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç 1k TPS –Ω–∞ –æ–¥–Ω–æ–π –Ω–æ–¥–µ.
–î–æ –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞: –∫–≤–æ—Ä—É–º >1, –∞—Ä—Ö–∏–≤ –Ω–∞ Postgres, —Ç–µ—Å—Ç—ã, –º–æ–±–∏–ª—å–Ω—ã–π –∫–æ—à–µ–ª—ë–∫, SDK, —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã.


---

üéØ –†–æ–∞–¥–º–∞–ø
‚Ä¢ –ö–≤–æ—Ä—É–º >1 + fork-choice
‚Ä¢ –ê—Ä—Ö–∏–≤–∞—Ç–æ—Ä –±–ª–æ–∫–æ–≤/tx (Postgres) + API –¥–ª—è Explorer
‚Ä¢ Web Wallet hardening (—ç–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç, passkey)
‚Ä¢ SDK –∞–≤—Ç–æ–≥–µ–Ω (Go/Rust) ‚Äî –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚Ä¢ Grafana –∞–ª–µ—Ä—Ç—ã (—Ñ–∞–∑—ã, quorum, TLS expiry)
‚Ä¢ Unit/chaos-—Ç–µ—Å—Ç—ã —è–¥—Ä–∞/—Å–µ—Ç–µ–≤—ã—Ö —Ñ–∞–∑
‚Ä¢ Crypto-policy (forbid dev-secrets, —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ nonce)
‚Ä¢ –ó–∞–ø—É—Å–∫ —Å–∞–π—Ç-–≤–∏–∑–∏—Ç–∫–∏ LOGOS —Å Wallet + APK


---

üî• –ö–∞–Ω–æ–Ω —Ä–∞–±–æ—Ç—ã
1. mkdir -p ‚Üí cd ‚Üí rm -f ‚Üí nano ‚Äî —Ç–æ–ª—å–∫–æ –±–æ–µ–≤–æ–π –∫–æ–¥, –±–µ–∑ TODO
2. –°–±–æ—Ä–∫–∞ ‚Üí –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ ‚Üí —Ç–µ—Å—Ç—ã (curl, load, e2e)
3. –§–∏–∫—Å–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (head‚Üë, balances, metrics/alerts)
